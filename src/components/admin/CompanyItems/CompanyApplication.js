import React, { useState } from 'react'
import { useSelector } from 'react-redux'
import AccountsItems from 'components/Accounts/AccountsItems'
import AccountsItemsManual from 'components/admin/AccountsItemsManual'
import PanelForm from 'components/PanelForm'
import SVGInline from 'react-svg-inline/src'
import translate from 'i18n/translate'
import {
  accountsManualMarketing,
  accountsManualSales,
  accountsMarketing,
  accountsSales,
} from 'data/data'
import Finance from 'components/admin/Dashboard/Finance/Finance'
import Offers from 'components/admin/Dashboard/Offers'
import Contracts from 'components/admin/Dashboard/Contracts'
import { UploadFile } from 'components/admin/UploadFile'
import { BankHandIcon } from 'components/UI/Icons'
import useAPI from 'hooks/useAPI'

const CompanyApplication = () => {
  const {
    appData: { company, application },
  } = useSelector((state) => state)

  const { apiFileDownload } = useAPI()

  const [formType, setFormType] = useState('')
  const [formSubtype, setFormSubtype] = useState('')
  const [formData, setFormData] = useState(undefined)
  const [openFormPanel, setOpenFormPanel] = useState(false)

  const download = async (item) => {
    const url = `/admin/uploads/${item.id}`
    await apiFileDownload(url, 'GET', item.name)
  }

  const handleOfferCardClick = (offer) => {
    if (offer.type === 'invoice_financing') {
      setFormType('viewInvoiceOffer')
    } else {
      setFormType('viewOffer')
    }
    setFormData(offer)
    setOpenFormPanel(true)
  }

  const handleCreateNewOffer = () => {
    setFormData(undefined)
    setFormType('selectOfferType')
    setOpenFormPanel(true)
  }

  const handleContractCardClick = (contract) => {
    setFormType('viewContract')
    setFormData(contract)
    setOpenFormPanel(true)
  }

  return (
    <>
      {openFormPanel && (
        <PanelForm
          panelAccount
          data={formData}
          onClose={() => {
            setOpenFormPanel(false)
            setFormType('')
          }}
          setFormType={setFormType}
          subtype={formSubtype}
          setSubtype={setFormSubtype}
          {...{ formType }}
        />
      )}

      <div className="table__grid">
        <section className="accounts__section admin">
          <h2 className="layout-app__title">
            <SVGInline
              className="image-icon"
              svg={
                '<svg width="47px" height="49px" viewBox="0 0 47 48" version="1.1" xmlns="http://www.w3.org/2000/svg" className="image-icon"><defs><linearGradient x1="100%" y1="99.9958334%" x2="5.43323864%" y2="-5.30638844%" id="linearGradient-1"><stop stop-color="#000000" offset="0%"></stop><stop stop-color="#000000" offset="100%"></stop></linearGradient></defs><path d="M40.2652917,27.41335 L44.4189167,31.5689333 C46.0835,33.2335166 47,35.4483916 47,37.80035 C47,40.1542666 46.0835,42.3691416 44.4189167,44.0317666 L42.0336667,46.4170166 C40.3651667,48.087475 38.0974167,48.9981 35.784625,48.9981 C35.0639583,48.9981 34.3374167,48.909975 33.622625,48.72785 L26.795875,46.9868916 C26.5412917,46.9222666 26.3239167,46.7577666 26.19075,46.5325583 C25.7246667,45.7335583 25.2429167,43.822225 26.760625,42.3045166 C27.4342917,41.63085 28.3429583,41.3684333 29.228125,41.3096833 L20.8758333,32.9573916 C20.321625,32.4031833 20.016125,31.6648916 20.016125,30.8796 C20.016125,30.0943083 20.321625,29.357975 20.8758333,28.8018083 C22.0195,27.6561833 23.8857917,27.6561833 25.0294583,28.8018083 L27.226905,31.0000114 C27.3665978,30.7061716 27.5577961,30.4310122 27.8005,30.1883083 C28.7525758,29.229689 30.2129907,29.0718403 31.3370413,29.7147621 C31.4784425,29.3835343 31.6852494,29.0726423 31.9560833,28.8018083 C32.9108696,27.8453871 34.369303,27.687431 35.4904473,28.3279398 C35.6341636,27.9912066 35.8438535,27.6811632 36.1116667,27.41335 C37.2553333,26.2696833 39.1177083,26.2696833 40.2652917,27.41335 Z M37.4962083,28.7978916 C37.3101667,28.9839333 37.2083333,29.228725 37.2083333,29.4911416 C37.2083333,29.7535583 37.312125,29.99835 37.4962083,30.1824333 L37.548125,30.2406 L38.8787917,31.5708916 C39.2606667,31.9527666 39.2606667,32.5735583 38.8787917,32.9554333 C38.6888333,33.1453916 38.4381667,33.24135 38.1875,33.24135 C37.9368333,33.24135 37.6861667,33.1453916 37.49425,32.9554333 L34.7251667,30.18635 C34.3432917,29.804475 33.7225,29.804475 33.340625,30.18635 C32.988125,30.53885 32.9610096,31.0949239 33.2592788,31.478743 L33.355125,31.5876 L36.1097083,34.3419333 C36.4915833,34.7238083 36.4915833,35.3446 36.1097083,35.726475 C35.91975,35.914475 35.6690833,36.0104333 35.4184167,36.0104333 C35.16775,36.0104333 34.9170833,35.914475 34.7251667,35.7245166 L30.5715417,31.5708916 C30.1896667,31.1870583 29.5669167,31.190975 29.1850417,31.5708916 C28.8063956,31.9514895 28.8051292,32.5694085 29.1812425,32.9535325 L33.3386667,37.1110166 C33.7205417,37.4928916 33.7205417,38.1136833 33.3386667,38.4955583 C32.9567917,38.8774333 32.336,38.8774333 31.954125,38.4955583 L23.6449167,30.18635 C23.2630417,29.8064333 22.64225,29.804475 22.260375,30.18635 C21.8785,30.568225 21.8785,31.1890166 22.260375,31.5708916 L32.647375,41.9559333 C32.9685417,42.2771 33.0253333,42.7745166 32.788375,43.1603083 C32.5494583,43.5461 32.0814167,43.7184333 31.6466667,43.5774333 C30.8124167,43.3013083 28.858,42.9683916 28.1451667,43.6871 C27.5968333,44.2354333 27.641875,44.8425166 27.7456667,45.2067666 L34.1082917,46.830225 C36.4289167,47.4255583 38.945375,46.7381833 40.6471667,45.0344333 L43.0324167,42.6491833 C44.3288333,41.3527666 45.0416667,39.6313916 45.0416667,37.80035 C45.0416667,35.9693083 44.3288333,34.2498916 43.034375,32.953475 L38.88075,28.7978916 C38.498875,28.417975 37.8780833,28.4160166 37.4962083,28.7978916 Z M19.4356421,1.26541736 L19.5836159,1.39987772 L21.7504084,3.49601772 C21.9549211,3.69385689 22.2244094,3.79789535 22.5044351,3.7903431 L22.6249326,3.78022247 L25.6100184,3.35797146 C27.2124254,3.13125297 28.691757,4.1562403 29.0554307,5.71221366 L29.0911972,5.8872481 L29.6120428,8.85680289 C29.6612448,9.13702953 29.8182087,9.37972528 30.0491661,9.53811586 L30.1525796,9.60069963 L32.8157424,11.0137498 C34.2436252,11.7713569 34.838125,13.4662466 34.2219439,14.9374254 L34.1454517,15.1061179 L32.8214279,17.8146952 C32.6990018,18.0651337 32.6815124,18.3471551 32.7689596,18.606661 L32.8214279,18.7342872 L34.1454517,21.4428645 C34.7433368,22.6660209 34.4720937,24.0796412 33.5571482,24.9898766 C32.6402805,24.8248371 31.6609402,25.0957444 30.9560833,25.8018083 C30.6852494,26.0726423 30.4784425,26.3835343 30.3370413,26.7147621 C29.0911972,28.4613037 26.5615827,26.0546221 28.3990042,24.8708434 L28.5673536,24.7744085 L31.0888454,23.4365277 C31.5273253,23.2038958 31.7204713,22.6953331 31.5618162,22.2383991 L31.5147616,22.1254307 L30.2611712,19.561006 C29.8922566,18.8062703 29.8638786,17.9490045 30.176037,17.1784949 L30.2611712,16.9877845 L31.5147616,14.4233597 C31.732729,13.9774264 31.590079,13.4525118 31.1932271,13.1761755 L31.0887798,13.1124597 L28.567288,11.7745789 C27.820739,11.3785367 27.2920573,10.6959672 27.0944053,9.8827122 L27.0547211,9.69278904 L26.5615827,6.88120423 C26.4753276,6.38939751 26.0466208,6.04742046 25.5597093,6.06136267 L25.4464413,6.070992 L22.6201516,6.47078073 C21.7883366,6.58852071 20.9642406,6.3505656 20.3278563,5.8155188 L20.172775,5.67560161 L18.1212483,3.69096896 C17.7644532,3.34592962 17.2211125,3.31938813 16.8357213,3.6113445 L16.7428635,3.69096896 L14.6912711,5.67560161 C14.087422,6.25969612 13.28075,6.55169443 12.4515575,6.49283825 L12.2438945,6.47078073 L9.41760483,6.070992 C8.92305501,6.00113448 8.46558054,6.30293605 8.32832464,6.77046481 L8.30246343,6.88120423 L7.80932502,9.69272339 C7.66333133,10.5251617 7.17748975,11.2388458 6.46517322,11.678144 L6.29682382,11.7745789 L3.77533202,13.1124597 C3.3368521,13.3450916 3.14370615,13.8535984 3.30230966,14.3104205 L3.34935024,14.4233597 L4.60294064,16.9878502 C4.97185519,17.7426464 5.00023324,18.599805 4.68807477,19.3703493 L4.60294064,19.5610716 L3.34935024,22.125562 C3.13138281,22.5714954 3.27403282,23.0964099 3.67088475,23.3727462 L3.77533202,23.436462 L6.29682382,24.7743429 C7.04337277,25.1703851 7.57205454,25.8529545 7.76970646,26.6662096 L7.80939066,26.8561327 L8.30259472,29.6677175 C8.38891083,30.1595242 8.81762197,30.5014447 9.30448117,30.487547 L9.41773612,30.4779298 L12.2440258,30.078141 C12.3835908,30.0583814 12.5229589,30.0486656 12.6612109,30.0486656 C13.3471598,30.0486656 14.00685,30.2881949 14.5365093,30.7335669 L14.6914024,30.8733202 L16.7429291,32.8579528 C17.0362657,33.1416244 17.4556919,33.2100173 17.8097713,33.0631316 C18.3330527,33.1388059 18.7469668,33.3557177 19.0515137,33.7138672 C19.508334,34.2510913 19.8206727,35.8383789 17.6430461,36.0172255 L17.4320771,36.0244609 C16.7282624,36.0244609 16.0246769,35.7833923 15.4492598,35.3010469 L15.2806077,35.1491047 L13.1138151,33.0529647 C12.9092418,32.8551255 12.6395866,32.7509278 12.359706,32.7585796 L12.239291,32.7687599 L9.25420513,33.191011 C9.10520391,33.2120888 8.95696538,33.2223504 8.81087623,33.2223504 C7.38692101,33.2224836 6.14054185,32.2496865 5.80951457,30.8402222 L5.77295699,30.6618037 L5.2521114,27.6922489 C5.20290945,27.4120222 5.04594553,27.1693265 4.81498814,27.0109359 L4.71157464,26.9483521 L2.04841184,25.5353019 C0.620529062,24.7776948 0.0260292021,23.0828052 0.642210351,21.6116264 L0.718702487,21.4429339 L2.04272636,18.7344259 C2.16515241,18.4839873 2.18264184,18.2019659 2.09519466,17.9424601 L2.04272636,17.8148339 L0.718771822,15.1063259 C0.0089032318,13.6540731 0.524227115,11.9333273 1.88744538,11.1053913 L2.04848117,11.0138885 L4.71164397,9.6008383 C4.96299253,9.46742882 5.14522478,9.2431383 5.22452577,8.97455522 L5.2521114,8.85687222 L5.77295699,5.8874561 C6.05262771,4.29313909 7.48420303,3.20298584 9.07659223,3.33808914 L9.25413579,3.35817946 L12.2392217,3.78043048 C12.5210863,3.82010751 12.8002437,3.74591783 13.0222554,3.5752334 L13.1137458,3.49622573 L15.2806077,1.39987772 C16.4387819,0.279310886 18.2270028,0.234552112 19.4356421,1.26541736 Z M21.5269413,19.980725 C23.5967339,19.980725 25.2806765,21.6646676 25.2806765,23.7344603 C25.2806765,25.8042529 23.5967339,27.4881955 21.5269413,27.4881955 C19.4571486,27.4881955 17.773206,25.8042529 17.773206,23.7344603 C17.773206,21.6646676 19.4571486,19.980725 21.5269413,19.980725 Z M23.4644425,10.7942348 C23.8642289,10.3944483 24.5125125,10.3944483 24.9122296,10.7942348 C25.3120853,11.1940905 25.3120853,11.8422354 24.9121602,12.2420912 L24.9121602,12.2420912 L11.3995038,25.7547477 C11.1996799,25.9547102 10.937593,26.0546221 10.6756449,26.0546221 C10.4136967,26.0546221 10.1516792,25.9546409 9.95178599,25.7547477 C9.55199956,25.3549612 9.55199956,24.706747 9.95178599,24.3069606 L9.95178599,24.3069606 Z M21.5269413,22.0282611 C20.5860634,22.0282611 19.8206727,22.7936518 19.8206727,23.7344603 C19.8206727,24.6752688 20.5861327,25.4406595 21.5269413,25.4406595 C22.4677498,25.4406595 23.2331404,24.6752688 23.2331404,23.7344603 C23.2331404,22.7936518 22.4677498,22.0282611 21.5269413,22.0282611 Z M13.3370743,9.06085621 C15.4068669,9.06085621 17.0908095,10.7447988 17.0908095,12.8145915 C17.0908095,14.8843841 15.4068669,16.5683267 13.3370743,16.5683267 C11.2672816,16.5683267 9.58333905,14.8843841 9.58333905,12.8145915 C9.58333905,10.7447988 11.2672816,9.06085621 13.3370743,9.06085621 Z M13.3370743,11.108323 C12.3962658,11.108323 11.6308751,11.8737136 11.6308751,12.8145221 C11.6308751,13.7554 12.3962658,14.5207906 13.3370743,14.5207906 C14.2778828,14.5207906 15.0432735,13.7554 15.0433428,12.8145221 C15.0433428,11.8737136 14.2778828,11.108323 13.3370743,11.108323 Z" fill="url(#linearGradient-1)" fill-rule="nonzero"></path></svg>'
              }
            />
            <span>{translate('views.company_item.marketing_accounts')}</span>
          </h2>

          <AccountsItemsManual
            accounts={application.accounts}
            accountsArray={accountsManualMarketing}
          />

          {application.accounts && (
            <AccountsItems
              showSync
              typeGraph={false}
              connectors={accountsMarketing}
              hideActions={false}
            />
          )}
        </section>
        <section className="accounts__section admin">
          <h2 className="layout-app__title">
            <SVGInline
              className="image-icon"
              svg={
                '<svg width="47px" height="49px" viewBox="0 0 47 48" version="1.1" xmlns="http://www.w3.org/2000/svg" className="image-icon"><defs><linearGradient x1="100%" y1="99.9958334%" x2="5.43323864%" y2="-5.30638844%" id="linearGradient-1"><stop stop-color="#000000" offset="0%"></stop><stop stop-color="#000000" offset="100%"></stop></linearGradient></defs><path d="M40.2652917,27.41335 L44.4189167,31.5689333 C46.0835,33.2335166 47,35.4483916 47,37.80035 C47,40.1542666 46.0835,42.3691416 44.4189167,44.0317666 L42.0336667,46.4170166 C40.3651667,48.087475 38.0974167,48.9981 35.784625,48.9981 C35.0639583,48.9981 34.3374167,48.909975 33.622625,48.72785 L26.795875,46.9868916 C26.5412917,46.9222666 26.3239167,46.7577666 26.19075,46.5325583 C25.7246667,45.7335583 25.2429167,43.822225 26.760625,42.3045166 C27.4342917,41.63085 28.3429583,41.3684333 29.228125,41.3096833 L20.8758333,32.9573916 C20.321625,32.4031833 20.016125,31.6648916 20.016125,30.8796 C20.016125,30.0943083 20.321625,29.357975 20.8758333,28.8018083 C22.0195,27.6561833 23.8857917,27.6561833 25.0294583,28.8018083 L27.226905,31.0000114 C27.3665978,30.7061716 27.5577961,30.4310122 27.8005,30.1883083 C28.7525758,29.229689 30.2129907,29.0718403 31.3370413,29.7147621 C31.4784425,29.3835343 31.6852494,29.0726423 31.9560833,28.8018083 C32.9108696,27.8453871 34.369303,27.687431 35.4904473,28.3279398 C35.6341636,27.9912066 35.8438535,27.6811632 36.1116667,27.41335 C37.2553333,26.2696833 39.1177083,26.2696833 40.2652917,27.41335 Z M37.4962083,28.7978916 C37.3101667,28.9839333 37.2083333,29.228725 37.2083333,29.4911416 C37.2083333,29.7535583 37.312125,29.99835 37.4962083,30.1824333 L37.548125,30.2406 L38.8787917,31.5708916 C39.2606667,31.9527666 39.2606667,32.5735583 38.8787917,32.9554333 C38.6888333,33.1453916 38.4381667,33.24135 38.1875,33.24135 C37.9368333,33.24135 37.6861667,33.1453916 37.49425,32.9554333 L34.7251667,30.18635 C34.3432917,29.804475 33.7225,29.804475 33.340625,30.18635 C32.988125,30.53885 32.9610096,31.0949239 33.2592788,31.478743 L33.355125,31.5876 L36.1097083,34.3419333 C36.4915833,34.7238083 36.4915833,35.3446 36.1097083,35.726475 C35.91975,35.914475 35.6690833,36.0104333 35.4184167,36.0104333 C35.16775,36.0104333 34.9170833,35.914475 34.7251667,35.7245166 L30.5715417,31.5708916 C30.1896667,31.1870583 29.5669167,31.190975 29.1850417,31.5708916 C28.8063956,31.9514895 28.8051292,32.5694085 29.1812425,32.9535325 L33.3386667,37.1110166 C33.7205417,37.4928916 33.7205417,38.1136833 33.3386667,38.4955583 C32.9567917,38.8774333 32.336,38.8774333 31.954125,38.4955583 L23.6449167,30.18635 C23.2630417,29.8064333 22.64225,29.804475 22.260375,30.18635 C21.8785,30.568225 21.8785,31.1890166 22.260375,31.5708916 L32.647375,41.9559333 C32.9685417,42.2771 33.0253333,42.7745166 32.788375,43.1603083 C32.5494583,43.5461 32.0814167,43.7184333 31.6466667,43.5774333 C30.8124167,43.3013083 28.858,42.9683916 28.1451667,43.6871 C27.5968333,44.2354333 27.641875,44.8425166 27.7456667,45.2067666 L34.1082917,46.830225 C36.4289167,47.4255583 38.945375,46.7381833 40.6471667,45.0344333 L43.0324167,42.6491833 C44.3288333,41.3527666 45.0416667,39.6313916 45.0416667,37.80035 C45.0416667,35.9693083 44.3288333,34.2498916 43.034375,32.953475 L38.88075,28.7978916 C38.498875,28.417975 37.8780833,28.4160166 37.4962083,28.7978916 Z M19.4356421,1.26541736 L19.5836159,1.39987772 L21.7504084,3.49601772 C21.9549211,3.69385689 22.2244094,3.79789535 22.5044351,3.7903431 L22.6249326,3.78022247 L25.6100184,3.35797146 C27.2124254,3.13125297 28.691757,4.1562403 29.0554307,5.71221366 L29.0911972,5.8872481 L29.6120428,8.85680289 C29.6612448,9.13702953 29.8182087,9.37972528 30.0491661,9.53811586 L30.1525796,9.60069963 L32.8157424,11.0137498 C34.2436252,11.7713569 34.838125,13.4662466 34.2219439,14.9374254 L34.1454517,15.1061179 L32.8214279,17.8146952 C32.6990018,18.0651337 32.6815124,18.3471551 32.7689596,18.606661 L32.8214279,18.7342872 L34.1454517,21.4428645 C34.7433368,22.6660209 34.4720937,24.0796412 33.5571482,24.9898766 C32.6402805,24.8248371 31.6609402,25.0957444 30.9560833,25.8018083 C30.6852494,26.0726423 30.4784425,26.3835343 30.3370413,26.7147621 C29.0911972,28.4613037 26.5615827,26.0546221 28.3990042,24.8708434 L28.5673536,24.7744085 L31.0888454,23.4365277 C31.5273253,23.2038958 31.7204713,22.6953331 31.5618162,22.2383991 L31.5147616,22.1254307 L30.2611712,19.561006 C29.8922566,18.8062703 29.8638786,17.9490045 30.176037,17.1784949 L30.2611712,16.9877845 L31.5147616,14.4233597 C31.732729,13.9774264 31.590079,13.4525118 31.1932271,13.1761755 L31.0887798,13.1124597 L28.567288,11.7745789 C27.820739,11.3785367 27.2920573,10.6959672 27.0944053,9.8827122 L27.0547211,9.69278904 L26.5615827,6.88120423 C26.4753276,6.38939751 26.0466208,6.04742046 25.5597093,6.06136267 L25.4464413,6.070992 L22.6201516,6.47078073 C21.7883366,6.58852071 20.9642406,6.3505656 20.3278563,5.8155188 L20.172775,5.67560161 L18.1212483,3.69096896 C17.7644532,3.34592962 17.2211125,3.31938813 16.8357213,3.6113445 L16.7428635,3.69096896 L14.6912711,5.67560161 C14.087422,6.25969612 13.28075,6.55169443 12.4515575,6.49283825 L12.2438945,6.47078073 L9.41760483,6.070992 C8.92305501,6.00113448 8.46558054,6.30293605 8.32832464,6.77046481 L8.30246343,6.88120423 L7.80932502,9.69272339 C7.66333133,10.5251617 7.17748975,11.2388458 6.46517322,11.678144 L6.29682382,11.7745789 L3.77533202,13.1124597 C3.3368521,13.3450916 3.14370615,13.8535984 3.30230966,14.3104205 L3.34935024,14.4233597 L4.60294064,16.9878502 C4.97185519,17.7426464 5.00023324,18.599805 4.68807477,19.3703493 L4.60294064,19.5610716 L3.34935024,22.125562 C3.13138281,22.5714954 3.27403282,23.0964099 3.67088475,23.3727462 L3.77533202,23.436462 L6.29682382,24.7743429 C7.04337277,25.1703851 7.57205454,25.8529545 7.76970646,26.6662096 L7.80939066,26.8561327 L8.30259472,29.6677175 C8.38891083,30.1595242 8.81762197,30.5014447 9.30448117,30.487547 L9.41773612,30.4779298 L12.2440258,30.078141 C12.3835908,30.0583814 12.5229589,30.0486656 12.6612109,30.0486656 C13.3471598,30.0486656 14.00685,30.2881949 14.5365093,30.7335669 L14.6914024,30.8733202 L16.7429291,32.8579528 C17.0362657,33.1416244 17.4556919,33.2100173 17.8097713,33.0631316 C18.3330527,33.1388059 18.7469668,33.3557177 19.0515137,33.7138672 C19.508334,34.2510913 19.8206727,35.8383789 17.6430461,36.0172255 L17.4320771,36.0244609 C16.7282624,36.0244609 16.0246769,35.7833923 15.4492598,35.3010469 L15.2806077,35.1491047 L13.1138151,33.0529647 C12.9092418,32.8551255 12.6395866,32.7509278 12.359706,32.7585796 L12.239291,32.7687599 L9.25420513,33.191011 C9.10520391,33.2120888 8.95696538,33.2223504 8.81087623,33.2223504 C7.38692101,33.2224836 6.14054185,32.2496865 5.80951457,30.8402222 L5.77295699,30.6618037 L5.2521114,27.6922489 C5.20290945,27.4120222 5.04594553,27.1693265 4.81498814,27.0109359 L4.71157464,26.9483521 L2.04841184,25.5353019 C0.620529062,24.7776948 0.0260292021,23.0828052 0.642210351,21.6116264 L0.718702487,21.4429339 L2.04272636,18.7344259 C2.16515241,18.4839873 2.18264184,18.2019659 2.09519466,17.9424601 L2.04272636,17.8148339 L0.718771822,15.1063259 C0.0089032318,13.6540731 0.524227115,11.9333273 1.88744538,11.1053913 L2.04848117,11.0138885 L4.71164397,9.6008383 C4.96299253,9.46742882 5.14522478,9.2431383 5.22452577,8.97455522 L5.2521114,8.85687222 L5.77295699,5.8874561 C6.05262771,4.29313909 7.48420303,3.20298584 9.07659223,3.33808914 L9.25413579,3.35817946 L12.2392217,3.78043048 C12.5210863,3.82010751 12.8002437,3.74591783 13.0222554,3.5752334 L13.1137458,3.49622573 L15.2806077,1.39987772 C16.4387819,0.279310886 18.2270028,0.234552112 19.4356421,1.26541736 Z M21.5269413,19.980725 C23.5967339,19.980725 25.2806765,21.6646676 25.2806765,23.7344603 C25.2806765,25.8042529 23.5967339,27.4881955 21.5269413,27.4881955 C19.4571486,27.4881955 17.773206,25.8042529 17.773206,23.7344603 C17.773206,21.6646676 19.4571486,19.980725 21.5269413,19.980725 Z M23.4644425,10.7942348 C23.8642289,10.3944483 24.5125125,10.3944483 24.9122296,10.7942348 C25.3120853,11.1940905 25.3120853,11.8422354 24.9121602,12.2420912 L24.9121602,12.2420912 L11.3995038,25.7547477 C11.1996799,25.9547102 10.937593,26.0546221 10.6756449,26.0546221 C10.4136967,26.0546221 10.1516792,25.9546409 9.95178599,25.7547477 C9.55199956,25.3549612 9.55199956,24.706747 9.95178599,24.3069606 L9.95178599,24.3069606 Z M21.5269413,22.0282611 C20.5860634,22.0282611 19.8206727,22.7936518 19.8206727,23.7344603 C19.8206727,24.6752688 20.5861327,25.4406595 21.5269413,25.4406595 C22.4677498,25.4406595 23.2331404,24.6752688 23.2331404,23.7344603 C23.2331404,22.7936518 22.4677498,22.0282611 21.5269413,22.0282611 Z M13.3370743,9.06085621 C15.4068669,9.06085621 17.0908095,10.7447988 17.0908095,12.8145915 C17.0908095,14.8843841 15.4068669,16.5683267 13.3370743,16.5683267 C11.2672816,16.5683267 9.58333905,14.8843841 9.58333905,12.8145915 C9.58333905,10.7447988 11.2672816,9.06085621 13.3370743,9.06085621 Z M13.3370743,11.108323 C12.3962658,11.108323 11.6308751,11.8737136 11.6308751,12.8145221 C11.6308751,13.7554 12.3962658,14.5207906 13.3370743,14.5207906 C14.2778828,14.5207906 15.0432735,13.7554 15.0433428,12.8145221 C15.0433428,11.8737136 14.2778828,11.108323 13.3370743,11.108323 Z" fill="url(#linearGradient-1)" fill-rule="nonzero"></path></svg>'
              }
            />
            <span>{translate('views.company_item.sales_accounts')}</span>
          </h2>

          <AccountsItemsManual
            accounts={application.accounts}
            accountsArray={accountsManualSales}
          />

          <AccountsItems
            showSync
            typeGraph={false}
            connectors={accountsSales}
            hideActions={false}
          />
        </section>

        <Finance
          company={company}
          bankStatementFiles={application.stages.finance.bank_statement.files}
          financeDocumentsFiles={application.stages.finance.finance.files}
        />

        <Offers
          onCardClick={handleOfferCardClick}
          onAdd={handleCreateNewOffer}
        />

        <Contracts onCardClick={handleContractCardClick} />

        <section className="accounts__section admin">
          <h2 className="layout-app__title">
            <SVGInline
              className="image-icon"
              svg={
                '<svg width="47px" height="48px" viewBox="0 0 47 48" version="1.1" xmlns="http://www.w3.org/2000/svg" className="image-icon"><defs><linearGradient x1="100%" y1="99.9958334%" x2="5.43323864%" y2="-5.30638844%" id="linearGradient-1"><stop stop-color="#000000" offset="0%"></stop><stop stop-color="#000000" offset="100%"></stop></linearGradient></defs><path d="M39.5813253,22.112453 L43.7349503,26.2680363 C45.3995336,27.9326196 46.3160336,30.1474946 46.3160336,32.499453 C46.3160336,34.8533696 45.3995336,37.0682446 43.7349503,38.7308696 L41.3497003,41.1161196 C39.6812003,42.786578 37.4134503,43.697203 35.1006586,43.697203 C34.3799919,43.697203 33.6534503,43.609078 32.9386586,43.426953 L26.1119086,41.6859946 C25.8573253,41.6213696 25.6399503,41.4568696 25.5067836,41.2316613 C25.0407003,40.4326613 24.5589503,38.521328 26.0766586,37.0036196 C26.7503253,36.329953 27.6589919,36.0675363 28.5441586,36.0087863 L20.1918669,27.6564946 C19.6376586,27.1022863 19.3321586,26.3639946 19.3321586,25.578703 C19.3321586,24.7934113 19.6376586,24.057078 20.1918669,23.5009113 C21.3355336,22.3552863 23.2018253,22.3552863 24.3454919,23.5009113 L26.5429386,25.6991144 C26.6826314,25.4052746 26.8738297,25.1301152 27.1165336,24.8874113 C28.0686094,23.928792 29.5290243,23.7709433 30.6530749,24.4138651 C30.7944761,24.0826373 31.001283,23.7717453 31.2721169,23.5009113 C32.2269032,22.5444902 33.6853366,22.386534 34.8064809,23.0270428 C34.9501972,22.6903097 35.1598871,22.3802662 35.4277003,22.112453 C36.5713669,20.9687863 38.4337419,20.9687863 39.5813253,22.112453 Z M36.8122419,23.4969946 C36.6262003,23.6830363 36.5243669,23.927828 36.5243669,24.1902446 C36.5243669,24.4089252 36.5964445,24.6153662 36.727,24.7846351 L36.8641586,24.939703 L38.1948253,26.2699946 C38.5767003,26.6518696 38.5767003,27.2726613 38.1948253,27.6545363 C38.0048669,27.8444946 37.7542003,27.940453 37.5035336,27.940453 C37.2528669,27.940453 37.0022003,27.8444946 36.8102836,27.6545363 L34.0412003,24.885453 C33.6593253,24.503578 33.0385336,24.503578 32.6566586,24.885453 C32.3041586,25.237953 32.2770432,25.7940269 32.5753125,26.177846 L32.6711586,26.286703 L35.4257419,29.0410363 C35.8076169,29.4229113 35.8076169,30.043703 35.4257419,30.425578 C35.2357836,30.613578 34.9851169,30.7095363 34.7344503,30.7095363 C34.4837836,30.7095363 34.2331169,30.613578 34.0412003,30.4236196 L29.8875753,26.2699946 C29.5057003,25.8861613 28.8829503,25.890078 28.5010753,26.2699946 C28.1224292,26.6505925 28.1211629,27.2685115 28.4972762,27.6526355 L32.6547003,31.8101196 C33.0365753,32.1919946 33.0365753,32.8127863 32.6547003,33.1946613 C32.2728253,33.5765363 31.6520336,33.5765363 31.2701586,33.1946613 L22.9609503,24.885453 C22.5790753,24.5055363 21.9582836,24.503578 21.5764086,24.885453 C21.1945336,25.267328 21.1945336,25.8881196 21.5764086,26.2699946 L31.9634086,36.6550363 C32.2845753,36.976203 32.3413669,37.4736196 32.1044086,37.8594113 C31.8654919,38.245203 31.3974503,38.4175363 30.9627003,38.2765363 C30.1284503,38.0004113 28.1740336,37.6674946 27.4612003,38.386203 C26.9128669,38.9345363 26.9579086,39.5416196 27.0617003,39.9058696 L33.4243253,41.529328 C35.7449503,42.1246613 38.2614086,41.4372863 39.9632003,39.7335363 L42.3484503,37.3482863 C43.6448669,36.0518696 44.3577003,34.3304946 44.3577003,32.499453 C44.3577003,30.6684113 43.6448669,28.9489946 42.3504086,27.652578 L38.1967836,23.4969946 C37.8149086,23.117078 37.1941169,23.1151196 36.8122419,23.4969946 Z M18.4803402,25.655646 C19.0971615,26.7900454 17.7023816,28.1903326 17.4471451,28.2861381 C15.3723822,29.0649209 14.1823221,30.920425 14.1823221,33.5708139 L14.1823221,34.2060637 C14.1823221,34.8135925 13.4232615,35.699103 12.2940724,35.699103 C11.1648834,35.699103 10.4497597,34.8135925 10.4497597,34.2060637 L10.4497597,33.5708139 C10.4497597,29.7134765 12.7718427,26.3878972 16.0914415,24.9186433 C16.3557208,24.8016733 17.863519,24.5212466 18.4803402,25.655646 Z M15.3308249,0.699103008 C15.6556395,0.699103008 15.9410955,0.902879234 16.0507866,1.20073533 L16.0806534,1.30335465 L16.5097426,3.27716501 C16.9038581,3.40589174 17.2906996,3.55765266 17.6677875,3.73137318 L18.0415323,3.91237375 L19.7412349,2.81966578 C20.0111845,2.64620141 20.3562168,2.66083094 20.6087245,2.84539 L20.6987504,2.92252962 L22.5911573,4.81558691 C21.5829354,4.95910758 20.6262145,5.26448801 19.7482253,5.70449774 L19.3772179,5.33367575 L17.9706922,6.23794656 C17.7546572,6.37672521 17.479575,6.38468066 17.2559382,6.25845402 C16.6720072,5.9289211 16.0495366,5.67081051 15.4058513,5.49137068 C15.1940087,5.43227295 15.0250282,5.27680049 14.9466704,5.0756085 L14.9152645,4.97143706 L14.5602741,3.33844586 L11.7528799,3.33844586 L11.3978895,4.97143706 C11.343262,5.22229926 11.1544524,5.42242332 10.9073027,5.49137068 C10.2636174,5.67081051 9.64114674,5.9289211 9.05703904,6.25845402 C8.86550183,6.36664828 8.63603816,6.37638966 8.43834066,6.28945941 L8.34246175,6.23794656 L6.93575929,5.33367575 L4.95060635,7.31900546 L5.85487716,8.72553115 C5.99383259,8.94156616 6.00161126,9.21664836 5.87538462,9.44028522 C5.54585171,10.0242161 5.28774112,10.6466868 5.10830128,11.2903721 C5.04920355,11.5022147 4.89373109,11.6711952 4.6925391,11.749553 L4.58836766,11.7809589 L2.95537646,12.1359493 L2.95537646,14.9433435 L4.58854443,15.2983339 C4.83940663,15.3529614 5.03935392,15.541771 5.10830128,15.7889207 C5.28791794,16.432606 5.54602848,17.0550766 5.8755614,17.6390076 C5.98375566,17.8306963 5.99336716,18.0601816 5.9063998,18.2578822 L5.85487716,18.3537616 L4.95078313,19.7602873 L6.93593607,21.745617 L8.34246175,20.8413462 C8.55849676,20.7025676 8.83357896,20.6946121 9.05721582,20.8208388 C9.64114674,21.1503717 10.2636174,21.4084823 10.9073027,21.5879221 C11.1191453,21.6470198 11.2881258,21.8024923 11.3664836,22.0036843 L11.3978895,22.1078557 L11.7528799,23.7408469 L13.4851808,23.7405069 C12.3755491,24.4064288 11.3946112,25.2698674 10.604131,26.2794652 C10.449841,26.1928611 10.3277141,26.0532567 10.2637161,25.882185 L10.2325006,25.7759381 L9.80341144,23.8021278 C9.40929593,23.6734011 9.02245437,23.5216401 8.64536652,23.3479196 L8.27162174,23.166919 L6.57191906,24.259627 C6.30196951,24.4330914 5.95693718,24.4184618 5.70442949,24.2339028 L5.61440355,24.1567632 L2.53946022,21.0818198 C2.3127026,20.8550622 2.25360395,20.5148289 2.38032867,20.2287276 L2.43659638,20.1243043 L3.52930435,18.4246017 C3.34106352,18.0542918 3.17442406,17.6734016 3.0304606,17.284411 L2.89409561,16.892812 L0.920285254,16.4637228 C0.602876802,16.3945983 0.367359731,16.13487 0.323430402,15.8205157 L0.316033609,15.7138943 L0.316033609,11.3653985 C0.316033609,11.0405838 0.519809835,10.7552866 0.817665926,10.6454844 L0.920285254,10.61557 L2.89409561,10.1864808 C3.02282234,9.79236533 3.17458326,9.40552377 3.34830378,9.02843592 L3.52930435,8.65469114 L2.43659638,6.95498846 C2.26313201,6.68503891 2.27776155,6.34000658 2.4623206,6.08749889 L2.53946022,5.99747295 L5.61440355,2.92252962 C5.84116122,2.695772 6.18139445,2.63667335 6.46749583,2.76339807 L6.57191906,2.81966578 L8.27162174,3.91237375 C8.6419316,3.72413292 9.02282174,3.55749346 9.41181242,3.41353 L9.80341144,3.27716501 L10.2325006,1.30335465 C10.3014488,0.985946201 10.5613181,0.75042913 10.8757024,0.706499801 L10.9823291,0.699103008 L15.3308249,0.699103008 Z M17.4431871,20.7507566 C18.0718799,21.3573228 18.785379,21.8765459 19.5639494,22.288691 L18.8244718,22.2455439 C17.3759539,22.2455439 15.9743845,22.5566884 14.6959251,23.115648 L14.9152645,22.1078557 C14.969892,21.8569935 15.1587016,21.6568695 15.4058513,21.5879221 C16.0495366,21.4084823 16.6720072,21.1503717 17.2561149,20.8208388 L17.3547214,20.7749378 L17.4431871,20.7507566 Z M24.2992554,6.31979171 C28.6907816,6.31979171 32.2621315,9.89114163 32.2621315,14.2826678 C32.2621315,18.674194 28.6907816,22.2455439 24.2992554,22.2455439 C19.9077292,22.2455439 16.3363793,18.674194 16.3363793,14.2826678 C16.3363793,9.89114163 19.9077292,6.31979171 24.2992554,6.31979171 Z M13.156577,7.40073182 C14.3857425,7.40073182 15.531715,7.76388732 16.4928314,8.38853516 C16.1817006,8.79368579 15.9033047,9.22461301 15.6611482,9.67771314 C14.9404678,9.20863178 14.0798119,8.93546045 13.156577,8.93546045 C10.6178972,8.93546045 8.55239105,11.0009666 8.55239105,13.5396464 C8.55239105,16.0783262 10.6178972,18.1438323 13.156577,18.1438323 C13.9168339,18.1438323 14.6346558,17.9585938 15.2672772,17.6308819 C15.4642793,18.1060725 15.6991435,18.5623345 15.9683707,18.9950874 C15.1262069,19.4318708 14.1696483,19.678561 13.156577,19.678561 C9.77167057,19.678561 7.01766242,16.9245528 7.01766242,13.5396464 C7.01766242,10.15474 9.77167057,7.40073182 13.156577,7.40073182 Z M24.2992554,9.68994707 C21.7659107,9.68994707 19.7065347,11.749323 19.7065347,14.2826678 C19.7065347,16.8160125 21.7659107,18.8753885 24.2992554,18.8753885 C26.8326002,18.8753885 28.8919761,16.8160125 28.8919761,14.2826678 C28.8919761,11.749323 26.8326002,9.68994707 24.2992554,9.68994707 Z" fill="url(#linearGradient-1)" fill-rule="nonzero"></path></svg>'
              }
            />
            <span>{translate('views.company_item.verification_admins')}</span>
          </h2>
          <div className="layout-app__file--container">
            {application.kyc.files.map((el, index) => {
              return (
                <button
                  key={`kyc-${index}`}
                  className="layout-app__file"
                  onClick={() => {
                    download(el)
                  }}
                >
                  <div
                    className={'layout-app__file--item kyc-file ' + el.format}
                  />
                  <div className="layout-app__file--name">
                    <span>{el.name}</span>
                  </div>
                </button>
              )
            })}

            {application.kyc.files.length === 0 && (
              <div className="table__no-info">
                {translate('views.company_item.no_files')}
              </div>
            )}
            <UploadFile fileType="kyc" />
          </div>
        </section>
        <section className="accounts__section admin">
          <h2 className="layout-app__title">
            <BankHandIcon classes={'image-icon'} />
            <span>{translate('views.company_item.direct_debit')}</span>
          </h2>
          {!application.payment_methods[0] && (
            <div className="table__no-info">
              {translate('views.company_item.no_direct_debit')}
            </div>
          )}
          {application.payment_methods[0] && (
            <>
              <p>{translate('views.company_item.text1')}</p>

              {application.payment_methods[0].last_four_digits && (
                <p>
                  {translate('views.company_item.text2', {
                    last_four_digits:
                      application.payment_methods[0].last_four_digits,
                  })}
                </p>
              )}

              {application.payment_methods[0].mandate_reference && (
                <p>
                  {translate('views.company_item.text3', {
                    mandate_reference:
                      application.payment_methods[0].mandate_reference,
                  })}
                </p>
              )}
            </>
          )}
        </section>
      </div>
    </>
  )
}

export default CompanyApplication
